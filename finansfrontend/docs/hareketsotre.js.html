<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>hareketsotre.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-FaturaStore.html">FaturaStore</a><ul class='methods'><li data-type='method'><a href="module-FaturaStore.html#~faturaDuzenle">faturaDuzenle</a></li><li data-type='method'><a href="module-FaturaStore.html#~faturaEkle">faturaEkle</a></li><li data-type='method'><a href="module-FaturaStore.html#~faturaOdeme">faturaOdeme</a></li><li data-type='method'><a href="module-FaturaStore.html#~faturaSil">faturaSil</a></li><li data-type='method'><a href="module-FaturaStore.html#~find_fatura_by_id">find_fatura_by_id</a></li><li data-type='method'><a href="module-FaturaStore.html#~get_all_fatura">get_all_fatura</a></li><li data-type='method'><a href="module-FaturaStore.html#~get_all_fatura_by_musteri">get_all_fatura_by_musteri</a></li><li data-type='method'><a href="module-FaturaStore.html#~init">init</a></li><li data-type='method'><a href="module-FaturaStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-FaturaStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-FaturaStore.html#~sonraki_sayfa">sonraki_sayfa</a></li><li data-type='method'><a href="module-FaturaStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-HareketStore.html">HareketStore</a><ul class='methods'><li data-type='method'><a href="module-HareketStore.html#~get_all_hareket">get_all_hareket</a></li><li data-type='method'><a href="module-HareketStore.html#~hareketEkle">hareketEkle</a></li><li data-type='method'><a href="module-HareketStore.html#~hareketSil">hareketSil</a></li><li data-type='method'><a href="module-HareketStore.html#~init">init</a></li><li data-type='method'><a href="module-HareketStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-HareketStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-HareketStore.html#~sonraki_sayfa">sonraki_sayfa</a></li><li data-type='method'><a href="module-HareketStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-HesapStore.html">HesapStore</a><ul class='methods'><li data-type='method'><a href="module-HesapStore.html#~bakiye_arttir">bakiye_arttir</a></li><li data-type='method'><a href="module-HesapStore.html#~bakiye_azalt">bakiye_azalt</a></li><li data-type='method'><a href="module-HesapStore.html#~find_hesap_by_id">find_hesap_by_id</a></li><li data-type='method'><a href="module-HesapStore.html#~get_all_hesap">get_all_hesap</a></li><li data-type='method'><a href="module-HesapStore.html#~get_all_hesap_by_musteri">get_all_hesap_by_musteri</a></li><li data-type='method'><a href="module-HesapStore.html#~hesapDuzenle">hesapDuzenle</a></li><li data-type='method'><a href="module-HesapStore.html#~hesapEkle">hesapEkle</a></li><li data-type='method'><a href="module-HesapStore.html#~hesapSil">hesapSil</a></li><li data-type='method'><a href="module-HesapStore.html#~init">init</a></li><li data-type='method'><a href="module-HesapStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-HesapStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-HesapStore.html#~sonraki_sayfa">sonraki_sayfa</a></li><li data-type='method'><a href="module-HesapStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-KrediStore.html">KrediStore</a><ul class='methods'><li data-type='method'><a href="module-KrediStore.html#~get_all_kredi">get_all_kredi</a></li><li data-type='method'><a href="module-KrediStore.html#~init">init</a></li><li data-type='method'><a href="module-KrediStore.html#~krediDuzenle">krediDuzenle</a></li><li data-type='method'><a href="module-KrediStore.html#~krediEkle">krediEkle</a></li><li data-type='method'><a href="module-KrediStore.html#~krediSil">krediSil</a></li><li data-type='method'><a href="module-KrediStore.html#~kredi_ode">kredi_ode</a></li><li data-type='method'><a href="module-KrediStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-KrediStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-KrediStore.html#~sonraki_sayfa">sonraki_sayfa</a></li><li data-type='method'><a href="module-KrediStore.html#~state">state</a></li><li data-type='method'><a href="module-KrediStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-LoadingState.html">LoadingState</a><ul class='methods'><li data-type='method'><a href="module-LoadingState.html#~yuklemeyeBasla">yuklemeyeBasla</a></li><li data-type='method'><a href="module-LoadingState.html#~yuklemeyiBitir">yuklemeyiBitir</a></li></ul></li><li><a href="module-MusteriStore.html">MusteriStore</a><ul class='methods'><li data-type='method'><a href="module-MusteriStore.html#~find_musteri">find_musteri</a></li><li data-type='method'><a href="module-MusteriStore.html#~get_all_musteri">get_all_musteri</a></li><li data-type='method'><a href="module-MusteriStore.html#~init">init</a></li><li data-type='method'><a href="module-MusteriStore.html#~kredi_skor_guncelle">kredi_skor_guncelle</a></li><li data-type='method'><a href="module-MusteriStore.html#~musteriDuzenle">musteriDuzenle</a></li><li data-type='method'><a href="module-MusteriStore.html#~musteriEkle">musteriEkle</a></li><li data-type='method'><a href="module-MusteriStore.html#~musteriSil">musteriSil</a></li><li data-type='method'><a href="module-MusteriStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-MusteriStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-MusteriStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-MusteriStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-SubeStore.html">SubeStore</a><ul class='methods'><li data-type='method'><a href="module-SubeStore.html#~get_all_sube">get_all_sube</a></li><li data-type='method'><a href="module-SubeStore.html#~init">init</a></li><li data-type='method'><a href="module-SubeStore.html#~onceki_sayfa">onceki_sayfa</a></li><li data-type='method'><a href="module-SubeStore.html#~order_by_id">order_by_id</a></li><li data-type='method'><a href="module-SubeStore.html#~subeDuzenle">subeDuzenle</a></li><li data-type='method'><a href="module-SubeStore.html#~subeEkle">subeEkle</a></li><li data-type='method'><a href="module-SubeStore.html#~subeSec">subeSec</a></li><li data-type='method'><a href="module-SubeStore.html#~subeSil">subeSil</a></li><li data-type='method'><a href="module-SubeStore.html#~yukle">yukle</a></li></ul></li><li><a href="module-ThemeStore.html">ThemeStore</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">hareketsotre.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {defineStore} from "pinia";
import axios from "axios";
import {useLoadingState} from "@/stores/loading_state";
import {ref} from "vue";

/**
 * @module HareketStore
 * @description Hesap Hareketleri ile ilgili işlemlerin yapıldığı store
 *
 * @description Hesap Hareketleri ile ilgili store'da kullanılan değişkenler
 * @property {Hareket} hareket
 * @property {Hareket} selected_hareket
 * @property {Hareket} hareketler
 * @property {string} id_order
 * @property {number} total_hareket
 * @property {number} sayfa
 * @property {number} adet
 * @property {boolean} at_end
 * @property {boolean} net_error
 * @returns {{hareket, hareketler, id_order: string, sayfa: number, net_error: boolean, selected_hareket: null, total_hareket: number, at_end: boolean, adet: number}}
 *
 */
export const useHareketStore = defineStore("hareket", () => {

    const hareket = ref({
        hareket_musteri_id: 0,
        hareketMiktar: 0,
        hareket_turu: "",
    });
    const selected_hareket = ref(null);
    const hareketler = ref([]);
    const id_order = ref("?sırala=ar_id");
    const total_hareket = ref(0);
    const sayfa = ref(0);
    const adet = ref(10);
    const at_end = ref(false);
    const net_error = ref(false);
    const loading = useLoadingState();
    loading.yuklemeyeBasla();

    /**
     * @function init
     * @description Bu store'un init fonksiyonu. Varsayılan değerleri atar çağrılır.
     */
    function init() {
        sayfa.value = 0;
        adet.value= 10;
        at_end.value = false;
        get_all_hareket();
        yukle();
    }

    /**
     * @function yukle
     * @description Hesap Hareketleri listesini yükler
     * @param sayfa
     * @param siralama
     */
    function yukle(sayfa = 0, siralama = id_order.value) {
        axios.get(
            `http://127.0.0.1:5000/api/v1/hesaphareket/s/${sayfa}/k/${adet.value}${siralama}`)
            .then((response) => {
                if (response.status === 200) {
                    net_error.value = false;
                }
                at_end.value = false;
                hareketler.value = response.data;
                console.log(hareketler.value);
                loading.yuklemeyiBitir();
            })
    }

    /**
     * @function get_all_hareket
     * @description Tüm hesap hareketlerini yükler
     */
    function get_all_hareket() {
        axios
            .get(`http://127.0.0.1:5000/api/v1/hesaphareket/k/0`)
            .then((response) => {
                // hareketler.value = response.data;
                total_hareket.value = response.data.length;
            });
    }

    /**
     * @function hareketEkle
     * @description Müşteriye ID'sine göre Hesap Hareketi ekler.
     * @param tur
     * @param miktar
     * @param hesap_id
     */
    function hareketEkle(tur, miktar, hesap_id) {
        hareket.value.hareket_turu = tur;
        hareket.value.hareketMiktar = miktar;
        hareket.value.hareket_musteri_id = hesap_id;
        console.log(hareket.value);
        axios.post(
            `http://127.0.0.1:5000/api/v1/hesaphareket/`, hareket.value)
            .then((response) => {
                if (response.status === 200) {
                    net_error.value = false;
                }
                at_end.value = false;
                yukle();
            })
    }

    /**
     * @function hareketSil
     * @description Hesap Hareketi siler
     * @param hareket
     */
    function hareketSil(hareket) {
        axios.delete(
            `http://127.0.0.1:5000/api/v1/hesaphareket/` + hareket.id)
            .then((response) => {
                if (response.status === 200) {
                    net_error.value = false;
                }
                at_end.value = false;
                yukle();
            })
    }

    /**
     * @function order_by_id
     * @description Hesap Hareketlerini ID'ye göre sıralar
     */
    function order_by_id() {
        if (id_order.value === "?sırala=ar_id") {
            sayfa.value = 0;
            id_order.value = "?sırala=az_id";
            yukle();
        } else {
            sayfa.value = 0;
            id_order.value = "?sırala=ar_id";
            yukle();
        }
    }

    /**
     * @function sonraki_sayfa
     * @description Sonraki sayfaya geçer
     */
    function sonraki_sayfa() {
        if ((sayfa.value + 1) * adet.value >= total_hareket.value) {

            at_end.value = true;
            return;
        }
        if (hareketler.value.length === 0) {
            at_end.value = true
            return;
        }
        if (hareketler.value.length &lt; 10) {
            at_end.value = true;
            return;
        }
        at_end.value = false;
        sayfa.value += 1;
        yukle(sayfa.value);
    }

    /**
     * @function onceki_sayfa
     * @description Önceki sayfaya geçer
     */
    function onceki_sayfa() {
        if (hareketler.value.length === 0) {
            return;
        }
        if (sayfa.value === 0) {
            return;
        }
        at_end.value = false;
        sayfa.value -= 1;
        yukle(sayfa.value);
    }

    return {
        init,
        selected_hareket,
        hareket,
        hareketEkle,
        hareketSil,
        yukle,
        sayfa,
        adet,
        hareketler,
        total_hareket,
        net_error,
        at_end,
        id_order,
        order_by_id,
        sonraki_sayfa,
        onceki_sayfa,
    }
});</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Mon Jan 01 2024 11:28:57 GMT+0300 (GMT+03:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
